{"ast":null,"code":"import _toConsumableArray from \"/home/marina/todo/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/marina/todo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/marina/todo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/marina/todo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/marina/todo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/marina/todo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/marina/todo/src/App.js\";\nimport React, { Component } from 'react';\nimport TodoForm from './components/TodoForm';\nimport TodoList from './components/TodoList';\nimport './App.css';\nimport uuidv4 from 'uuid/v4';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props)); // создание ссылки для хранения DOM-элемента textInput\n\n    _this.state = {\n      tasks: [{\n        content: 'Read 30 pages from the book',\n        done: false,\n        index: 1,\n        id: uuidv4()\n      }, {\n        content: 'Write a letter',\n        done: false,\n        index: 2,\n        id: uuidv4()\n      }, {\n        content: 'Prepare for tomorrow',\n        done: true,\n        index: 3,\n        id: uuidv4()\n      }],\n      text: '',\n      currentIndex: 3\n    };\n\n    _this.onChange = function (_ref) {\n      var value = _ref.target.value;\n\n      _this.setState({\n        text: value\n      });\n    };\n\n    _this.onClick = function (_ref2) {\n      var id = _ref2.target.id;\n\n      var tasksCopy = _toConsumableArray(_this.state.tasks);\n\n      var clickedTask = tasksCopy.find(function (item) {\n        return item.index == id;\n      });\n      var updatedTask = {\n        content: clickedTask.content,\n        done: !clickedTask.done,\n        index: clickedTask.index,\n        id: clickedTask.id\n      };\n\n      _this.setState(function (prevState) {\n        return {\n          tasks: [].concat(_toConsumableArray(prevState.tasks.filter(function (item) {\n            return item.index != id;\n          })), [updatedTask])\n        };\n      });\n    };\n\n    _this.onSubmitForm = function (e) {\n      e.preventDefault();\n      var index = _this.state.currentIndex;\n      var newTask = {\n        content: _this.state.text,\n        done: false,\n        index: index + 1,\n        id: uuidv4()\n      };\n\n      _this.setState(function (prevState) {\n        return {\n          tasks: [].concat(_toConsumableArray(prevState.tasks), [newTask]),\n          text: '',\n          currentIndex: prevState.currentIndex + 1\n        };\n      });\n    };\n\n    _this.deleteTask = function (e) {\n      e.preventDefault();\n      var id = e.target.parentNode.previousSibling.firstChild.id;\n\n      _this.setState(function (prevState) {\n        return {\n          tasks: prevState.tasks.filter(function (item) {\n            return item.index != id;\n          })\n        };\n      });\n    };\n\n    _this.editTask = function (e) {\n      e.preventDefault();\n      var id = e.target.parentNode.previousSibling.firstChild.id;\n\n      var tasksCopy = _toConsumableArray(_this.state.tasks);\n\n      var clickedTask = tasksCopy.find(function (item) {\n        return item.index == id;\n      });\n      var updatedContent = clickedTask.content;\n\n      _this.textInput.current.focus();\n\n      _this.setState(function (prevState) {\n        return {\n          tasks: prevState.tasks.filter(function (item) {\n            return item.index != id;\n          }),\n          text: updatedContent\n        };\n      });\n    };\n\n    _this.textInput = React.createRef();\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"header-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"To do list\")), React.createElement(TodoForm, {\n        onSubmitForm: this.onSubmitForm,\n        onChange: this.onChange,\n        text: this.state.text,\n        textInput: this.textInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(TodoList, {\n        tasks: this.state.tasks,\n        deleteTask: this.deleteTask,\n        editTask: this.editTask,\n        onClick: this.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/marina/todo/src/App.js"],"names":["React","Component","TodoForm","TodoList","uuidv4","App","props","state","tasks","content","done","index","id","text","currentIndex","onChange","value","target","setState","onClick","tasksCopy","clickedTask","find","item","updatedTask","prevState","filter","onSubmitForm","e","preventDefault","newTask","deleteTask","parentNode","previousSibling","firstChild","editTask","updatedContent","textInput","current","focus","createRef"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport TodoForm from './components/TodoForm';\nimport TodoList from './components/TodoList';\nimport './App.css';\nimport uuidv4 from 'uuid/v4';\n\n\n\nclass App extends Component {\n\n    state = {\n        tasks: [{content: 'Read 30 pages from the book', done: false, index: 1, id: uuidv4()},\n            {content: 'Write a letter', done: false, index: 2, id: uuidv4()},\n            {content: 'Prepare for tomorrow', done: true, index: 3, id: uuidv4()}\n        ],\n        text: '',\n        currentIndex: 3\n    };\n\n    constructor(props) {\n        super(props);\n        // создание ссылки для хранения DOM-элемента textInput\n        this.textInput = React.createRef();\n\n    }\n\n    onChange = ({target: {value}}) => {\n        this.setState({\n            text: value\n        })\n    }\n\n    onClick = ({target: {id}}) => {\n        const tasksCopy = [...this.state.tasks];\n        const clickedTask = tasksCopy.find((item => item.index == id))\n        const updatedTask = {content: clickedTask.content, done: !clickedTask.done, index: clickedTask.index, id: clickedTask.id};\n        this.setState(prevState => ({tasks: [...prevState.tasks.filter(item => item.index != id),updatedTask ]}) )\n    }\n\n    onSubmitForm = (e) => {\n        e.preventDefault();\n        const index = this.state.currentIndex;\n        const newTask = {content: this.state.text, done: false, index: index + 1, id: uuidv4()};\n        this.setState(prevState => ({\n            tasks: [...prevState.tasks, newTask],\n            text: '',\n            currentIndex: prevState.currentIndex + 1\n        }));\n    }\n\n    deleteTask = (e) => {\n        e.preventDefault();\n        const id = e.target.parentNode.previousSibling.firstChild.id;\n        this.setState(prevState => ({ tasks: prevState.tasks.filter(item => item.index != id) }))\n    }\n\n    editTask = (e) => {\n        e.preventDefault();\n        const id = e.target.parentNode.previousSibling.firstChild.id;\n        const tasksCopy = [...this.state.tasks];\n        const clickedTask = tasksCopy.find(item => item.index == id);\n        const updatedContent = clickedTask.content;\n        this.textInput.current.focus();\n        this.setState(prevState => ({ tasks: prevState.tasks.filter(item => item.index != id), text: updatedContent }))\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <div className='header'>\n                    <p className='header-title'>To do list</p>\n                </div>\n                <TodoForm onSubmitForm={this.onSubmitForm} onChange={this.onChange} text={this.state.text} textInput = {this.textInput}/>\n                <TodoList tasks={this.state.tasks} deleteTask={this.deleteTask} editTask={this.editTask}\n                          onClick={this.onClick}/>\n            </div>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}